<!DOCTYPE html>
<html>
    <head>
        <meta http-equiv="content-type" content="text/html; charset=utf-8" />
        <title>Assignment 3</title>
    </head>
    <body>
        <script>
            // Instructions
            // 1. See preview png, assignment-3-preview.png
            // 2. Only the Script tag contents should be edited.
            // 3. You must not edit the variable MyWebsite.
            // 4. You must use "for" loop to iterate the pages > titles and generate the nav element and its content
            // 5. You will create a toSlug function to generate the hrefs of the anchors, based on the title.
            // 6. Add an Event Listener to the Anchors and when clicked, the title, h1 and the url should be updated.
            // 7. Lols

            var MyWebsite = {
                pages: [
                    {
                        title: 'Home'
                    },
                    
                    {
                        title: 'About Us'
                    },
                    
                    {
                       title: 'Contact Us'
                    }
                ]
            };
            
            var doc = document,
                dbody = document.body,
                titles = MyWebsite.pages,
                title,
                nav,
                h1,
                ul,
                li,
                a;
                
            nav = doc.createElement("nav"); // Create <nav> tag
            dbody.appendChild(nav).id = "nav"; // Append <nav> tag to the <body> tag
            
            ul = doc.createElement("ul"); // Create <ul> tag
            nav.appendChild(ul); // Append <ul> tag to the <nav> tag

            doc.title = titles[0].title; // Set default value for the <title> tag
            
            h1 = doc.createElement("h1"); // Create <h1> tag
            dbody.appendChild(h1).id = "main-title"; // Append <h1> tag to the <body> tag with its id
            h1.innerHTML = titles[0].title; // Set default value for the <h1> tag
            
            // This function converts the string to lowercase and make it a slug
            var toSlug = function ( titleSlug ) {
                var slug = titleSlug.toLowerCase().replace(/\W+/g, '-').replace(/^-|-$/g, '');
                return slug;
            }
            
            for ( var i = 0, len = titles.length; i < len; i++ ) {
                title = titles[i].title;
                
                li = doc.createElement("li"); // Create <li> tag
                a = doc.createElement("a"); // Create <a> tag
                li.appendChild(a); // Append <a> tag to the <li> tag
                a.appendChild(doc.createTextNode(title)); // Create text inside the <a> tag based on the titles
                a.href = "#" + toSlug(title); // Adding href attribute to the <a> tag
                ul.appendChild(li); // Append <li> tag to the <ul> tag

                a.addEventListener("click", function(evt) {
                    var aTarget = evt.target;
                    h1.innerHTML = aTarget.innerHTML;
                    doc.title = aTarget.innerHTML;
                }, false )
            }
        </script>
    </body>
</html>
